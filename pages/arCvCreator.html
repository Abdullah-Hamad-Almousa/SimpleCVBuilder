<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HTML Generator - Pro Advanced Ar version</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 2rem auto;
            padding: 0 1rem;
            line-height: 1.5;
            background-color: #f0f2f5;
            color: #333;
        }

        h1 {
            border-bottom: 3px solid #007bff;
            padding-bottom: 0.5rem;
            color: #007bff;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .config-section {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            margin-bottom: 2rem;
            border-top: 5px solid #007bff;
        }

        .config-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.5rem;
        }

        .config-header h3 {
            margin: 0;
            color: #444;
        }

        .form-group {
            margin-bottom: 1.2rem;
        }

        label {
            display: block;
            font-weight: 600;
            margin-bottom: 0.4rem;
            font-size: 0.9rem;
            color: #555;
        }

        input,
        select {
            width: 100%;
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 6px;
            box-sizing: border-box;
        }

        .dynamic-item {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            border: 1px solid #e9ecef;
            position: relative;
            margin-bottom: 1rem;
        }

        #sectionsContainer,
        #listSectionsContainer {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .main-field,
        .list-field-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            position: relative;
            border-top: 5px solid #28a745;
        }

        .list-field-card {
            border-top-color: #9b59b6;
        }

        .tag-field-card {
            background: white;
            padding: 1.5rem;
            border-radius: 12px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            position: relative;
            border-top: 5px solid #e67e22;
            border-left: 5px solid black;
            margin-bottom: 2rem;
        }

        .flex-row {
            display: flex;
            gap: 0.5rem;
        }

        .remove-btn {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ff4757;
            color: white;
            border: none;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 10;
            font-weight: bold;
        }

        .toggle-btn {
            background-color: #6c757d;
            color: white;
            border: none;
            padding: 0 12px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.8rem;
            font-weight: bold;
        }

        .toggle-btn.active {
            background-color: #007bff;
        }

        .controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            position: sticky;
            bottom: 1rem;
            z-index: 100;
        }

        .btn-action {
            flex: 1;
            padding: 1.2rem;
            cursor: pointer;
            border-radius: 10px;
            font-weight: 700;
            border: none;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .add-btn {
            background-color: #28a745;
            color: white;
        }

        .list-btn {
            background-color: #9b59b6;
            color: white;
        }

        .generate-btn {
            background-color: #007bff;
            color: white;
        }

        .pdf-btn {
            background-color: #e74c3c;
            color: white;
            margin-top: 1rem;
            width: 100%;
        }

        .color-pickers {
            display: flex;
            gap: 2rem;
            background: #fff;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            margin-bottom: 2rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            align-items: center;
        }

        input[type="color"] {
            width: 40px;
            height: 40px;
            border: none;
            padding: 0;
            background: none;
        }

        textarea {
            width: 100%;
            height: 400px;
            font-family: monospace;
            padding: 1.5rem;
            border: 2px solid #ddd;
            border-radius: 12px;
            background: #2d3436;
            color: #dfe6e9;
        }
    </style>
</head>

<body>

    <h1>مولد CV Pro المتقدم</h1>

    <div class="color-pickers">
        <div class="color-group">
            <label>اختيار اللون الأساسي (ضخم/متوسط/العلامات)</label>
            <input type="color" id="primaryColor" value="#007bff">
        </div>
        <div class="color-group">
            <label>اختيار اللون الثانوي (المحتوى/الفاصلات)</label>
            <input type="color" id="secondaryColor" value="#6c757d">
        </div>
        <br>
        <div style="position: relative; left: -120px;">
            <button class="toggle-btn active" onclick="window.location.href='../index.html'">
                ارجع للخلف
            </button>
        </div>
        <div style="position: relative; left: -200px;">
            <img src="Images/MM.png" alt="Logo" 
      style="cursor:pointer; height: 30px; vertical-align: middle; object-fit: cover; border-radius: 12px;"
      onclick="window.location.href='https://my-resume-kappa-one.vercel.app/'" />
        </div>
    </div>



    <div class="config-section">
        <div class="config-header">
            <h3>قسم العنوان</h3>
            <button class="toggle-btn active" id="addHeaderBtn" onclick="addHeaderItem()">+ الحد الأقصى لإضافة العناصر
                هو 8</button>
        </div>
        <div class="form-group">
            <label>نص العنوان</label>
            <input type="text" id="headerHugeText" placeholder="(اسمك هنا)">
        </div>
        <div id="headerItemsContainer" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;"></div>
    </div>

    <div id="sectionsContainer"></div>
    <div id="listSectionsContainer"></div>

    <div class="tag-field-card">
        <div class="config-header">
            <h3>قسم العلامات</h3>
            <button class="toggle-btn active" onclick="addTagCategory()" style="background:#e67e22;">+ إضافة فئة
                العلامة</button>
        </div>
        <div class="form-group">
            <label>عنوان مجموعة العلامات</label>
            <input type="text" id="tagSectionHeader" placeholder="هذا هو اسم قسم العلامة بالكامل">
        </div>
        <div id="tagCategoriesContainer"></div>
    </div>

    <div class="controls">
        <button class="btn-action add-btn" onclick="addBodySection()">+ إضافة القسم الرئيسي</button>
        <button class="btn-action list-btn" onclick="addListSection()">+ إضافة قسم القائمة</button>
        <button class="btn-action generate-btn" onclick="generateCode()">إنشاء كود النهائي</button>
    </div>

    <div class="output-box">
        <h3>الرمز المصدري الذي تم إنشاؤه</h3>
        <textarea id="outputCode" readonly></textarea>
        <button class="btn-action pdf-btn" id="printPdfBtn" onclick="printAsPDF()">طباعة كملف PDF (طباعة Microsoft إلى
            PDF)</button>
    </div>

    <footer>
        <p> &copy; 2026 Abdullah Hamad Mohammad Almousa. All rights reserved.</p>
    </footer>

    <script>
        let bodySectionCount = 0; let headerItemCount = 0; let tagCategoryCount = 0; let listSectionCount = 0;

        function addHeaderItem() {
            if (headerItemCount >= 8) return; headerItemCount++;
            const container = document.getElementById('headerItemsContainer');
            const itemDiv = document.createElement('div');
            itemDiv.className = 'dynamic-item'; itemDiv.id = `h_item_${headerItemCount}`;
            itemDiv.innerHTML = `
                <button class="remove-btn" onclick="removeElement('h_item_${headerItemCount}'); headerItemCount--; updateHeaderBtn();">×</button>
                <input type="text" class="h-text" placeholder="عرض النص">
                <select class="h-type" style="margin:0.5rem 0;"><option class="h-type" style="margin:0.5rem 0;" value="" disabled selected>اختر نوعًا</option><option value="link">رابط</option><option value="text">نص</option><option value="phone">هاتف</option><option value="email">بريد إلكتروني</option></select>
                <input type="text" class="h-value" placeholder="قيمة المصدر (رابط/بريد إلكتروني/هاتف...)">
            `;
            container.appendChild(itemDiv); updateHeaderBtn();
        }

        function updateHeaderBtn() { const btn = document.getElementById('addHeaderBtn'); btn.disabled = headerItemCount >= 8; btn.style.opacity = headerItemCount >= 8 ? "0.5" : "1"; }

        function addBodySection() {
            bodySectionCount++;
            const container = document.getElementById('sectionsContainer');
            const sectionDiv = document.createElement('div'); sectionDiv.className = 'main-field'; sectionDiv.id = `body_sec_${bodySectionCount}`;
            sectionDiv.innerHTML = `
                <button class="remove-btn" onclick="removeElement('body_sec_${bodySectionCount}')">×</button>
                <h3>القسم الرئيسي</h3>
                <div class="form-group"><label>عنوان القسم</label>
                    <div class="flex-row"><input type="text" class="field-top" placeholder="عنوان"><button class="toggle-btn active" onclick="toggleSize(this)">كبير</button><input type="hidden" class="field-size" value="large"></div>
                </div>
                <div class="form-group"><label>الوصف والملاحظة (مائل/مقابل)</label>
                    <div class="flex-row"><input type="text" class="field-mid" placeholder="نص المحتوى"><input type="text" class="field-info" placeholder="مذكرة إعلامية"></div>
                </div>
                <div class="form-group"><label>نقاط التبويب</label>
                    <div id="small_items_${bodySectionCount}"></div>
                    <button class="toggle-btn active" onclick="addSmallItem('small_items_${bodySectionCount}')" style="background:#28a745; margin-top:0.5rem;">+ إضافة عنصر</button>
                </div>
            `;
            container.appendChild(sectionDiv);
        }

        function addListSection() {
            listSectionCount++;
            const container = document.getElementById('listSectionsContainer');
            const div = document.createElement('div'); div.className = 'list-field-card'; div.id = `list_sec_${listSectionCount}`;
            div.innerHTML = `
                <button class="remove-btn" onclick="removeElement('list_sec_${listSectionCount}')">×</button>
                <h3>قسم القائمة</h3>
                <div class="form-group"><label>عنوان القسم:</label><input type="text" class="l-huge" placeholder="هذا هو العنوان الرئيسي لقسم القائمة"></div>
                <div class="form-group"><label>العنوان المتوسط والملاحظة:</label><div class="flex-row"><input type="text" class="l-med" placeholder="الوصف"><input type="text" class="l-info" placeholder="اكتب التفاصيل الإضافية هنا.."></div></div>
                <div id="list_items_${listSectionCount}"></div>
                <button class="toggle-btn active" onclick="addListItem('list_items_${listSectionCount}')" style="background:#9b59b6;">+ إضافة عنصر قائمة</button>
            `;
            container.appendChild(div);
        }

        function addListItem(targetId) {
            const list = document.getElementById(targetId); const rowId = Date.now();
            const group = document.createElement('div'); group.className = 'dynamic-item'; group.id = `li_${rowId}`;
            group.innerHTML = `
                <button class="remove-btn" onclick="removeElement('li_${rowId}')">×</button>
                <div class="flex-row"><input type="text" class="li-bold" placeholder="بولد (اسم الشهادة)"> <input type="text" class="li-norm" placeholder="(على سبيل المثال: التفاصيل)"></div>
            `;
            list.appendChild(group);
        }

        function addTagCategory() {
            tagCategoryCount++;
            const container = document.getElementById('tagCategoriesContainer');
            const catDiv = document.createElement('div'); catDiv.className = 'dynamic-item'; catDiv.id = `tag_cat_${tagCategoryCount}`;
            catDiv.innerHTML = `
                <button class="remove-btn" onclick="removeElement('tag_cat_${tagCategoryCount}')">×</button>
                <div class="form-group"><label>اسم الفئة</label><input type="text" class="cat-name" placeholder="تسمية لمجموعة من العلامات ذات الصلة"></div>
                <div class="tag-row" id="tag_list_${tagCategoryCount}"></div>
                <button class="toggle-btn active" onclick="addTagToCat('tag_list_${tagCategoryCount}')" style="background:#e67e22; margin-top:0.5rem;">+ إضافة علامة</button>
            `;
            container.appendChild(catDiv);
        }

        function addTagToCat(listId) {
            const list = document.getElementById(listId); const tagId = Date.now();
            const group = document.createElement('div'); group.className = 'flex-row'; group.id = `tag_${tagId}`; group.style.marginBottom = "5px";
            group.innerHTML = `<input type="text" class="tag-val" style="padding:0.4rem;" placeholder="أضف علامتك (المهارة)"><button class="toggle-btn active" style="background:#ff4757;" onclick="removeElement('tag_${tagId}')">×</button>`;
            list.appendChild(group);
        }

        function addSmallItem(containerId) {
            const container = document.getElementById(containerId); const itemId = Date.now();
            const group = document.createElement('div'); group.className = 'flex-row'; group.id = `small_${itemId}`; group.style.marginBottom = "5px";
            group.innerHTML = `<input type="text" class="field-down" style="padding:0.4rem;" placeholder="نص ملاحظة صغيرة..."><button class="toggle-btn active" style="background:#ff4757;" onclick="removeElement('small_${itemId}')">×</button>`;
            container.appendChild(group);
        }

        function toggleSize(btn) {
            const hiddenInput = btn.nextElementSibling;
            if (btn.textContent === 'كبير') { btn.textContent = 'متوسط'; btn.classList.remove('active'); hiddenInput.value = 'medium'; }
            else { btn.textContent = 'كبير'; btn.classList.add('active'); hiddenInput.value = 'large'; }
        }

        function removeElement(id) { document.getElementById(id).remove(); }

        function generateCode() {
            const primary = document.getElementById('primaryColor').value;
            const secondary = document.getElementById('secondaryColor').value;
            const hugeText = document.getElementById('headerHugeText').value;

            let headerItemsHtml = '';
            document.querySelectorAll('.dynamic-item:has(.h-text)').forEach((item, index) => {
                const text = item.querySelector('.h-text').value; const type = item.querySelector('.h-type').value; const val = item.querySelector('.h-value').value;
                let prefix = (type === 'phone') ? 'tel:' : (type === 'email' ? 'mailto:' : '');
                let sep = index > 0 ? `border-right: 2px solid ${secondary}; padding-right: 1.5rem;` : '';
                headerItemsHtml += `<a href="${prefix}${val}" class="nav-item" style="${sep}">${text}</a>`;
            });

            let sectionsHtml = '';
            document.querySelectorAll('.main-field').forEach(sec => {
                const top = sec.querySelector('.field-top').value; const size = sec.querySelector('.field-size').value;
                const mid = sec.querySelector('.field-mid').value; const info = sec.querySelector('.field-info').value;

                let smallItemsHtml = '';
                sec.querySelectorAll('.field-down').forEach(item => {
                    if (item.value.trim()) {
                        smallItemsHtml += `<li class="small-list-item">${item.value}</li>`;
                    }
                });

                sectionsHtml += `
            <div class="section-box">
                <div class="${size === 'large' ? 'text-huge' : 'text-medium'}">${top}</div>
                <div class="horizontal-sep"></div>
                <div class="info-row"><div class="text-medium-styled">${mid}</div><div class="info-text">${info}</div></div>
                ${smallItemsHtml ? `<ul class="small-list">${smallItemsHtml}</ul>` : ''}
            </div>`;
            });

            let listSectionsHtml = '';
            document.querySelectorAll('.list-field-card').forEach(sec => {
                const huge = sec.querySelector('.l-huge').value;
                const med = sec.querySelector('.l-med').value; const info = sec.querySelector('.l-info').value;
                let itemsHtml = '';
                sec.querySelectorAll('.dynamic-item').forEach(item => {
                    itemsHtml += `<div class="list-item-row"><span class="li-bold">${item.querySelector('.li-bold').value}</span> <span class="li-norm">${item.querySelector('.li-norm').value}</span></div>`;
                });
                listSectionsHtml += `
            <div class="section-box">
                <div class="text-huge">${huge}</div>
                <div class="horizontal-sep"></div>
                <div class="info-row"><div class="text-medium">${med}</div><div class="info-text">${info}</div></div>
                <div class="custom-list-container">${itemsHtml}</div>
            </div>`;
            });

            const tagTitle = document.getElementById('tagSectionHeader').value;
            let tagsInnerHtml = '';
            document.querySelectorAll('#tagCategoriesContainer .dynamic-item').forEach(cat => {
                const name = cat.querySelector('.cat-name').value;
                let innerTags = '';
                cat.querySelectorAll('.tag-val').forEach(t => { innerTags += `<span class="tag-bubble">${t.value}</span>`; });
                tagsInnerHtml += `<div class="tag-category-group"><div class="text-cat-name">${name}</div><div class="tag-container">${innerTags}</div></div>`;
            });
            let tagsSectionHtml = (tagTitle || tagsInnerHtml) ? `
        <div class="tag-section">
            <div class="text-huge">${tagTitle}</div>
            <div class="horizontal-sep"></div>
            ${tagsInnerHtml}
        </div>` : '';

            const htmlContent = `<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${hugeText || 'Portfolio'}</title>
    <style>
        :root { --primary-color: ${primary}; --secondary-color: ${secondary}; }
        body { font-family: 'Segoe UI', sans-serif; margin: 0; background: #f0f2f5; padding: 2rem 0; }
        .main-wrapper { max-width: 1000px; margin: 0 auto; background: #fff; border: 1px solid #ddd; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.05); overflow: hidden; }
        .site-header { padding: 4rem 1rem; text-align: center; }
        .huge-title { font-size: 4.5rem; font-weight: 800; color: var(--primary-color); margin: 0 0 1.5rem 0; letter-spacing: -2px; }
        .nav-container { display: flex; justify-content: center; gap: 1.5rem; flex-wrap: wrap; }
        .nav-item { color: #555; text-decoration: none; font-weight: 600; }
        .header-sep { border: 0; border-top: 2px solid var(--secondary-color); margin: 0; }
        .container { padding: 4rem 3rem; }
        .section-box, .tag-section { margin-bottom: 4rem; }
        .text-huge { font-size: 3.5rem; font-weight: 800; color: var(--primary-color); margin: 0; }
        .text-medium { font-size: 2.2rem; font-weight: 700; color: var(--primary-color); margin: 0; }
        .text-medium-styled { font-size: 1.6rem; color: var(--secondary-color); font-weight: 500; }
        .info-row { display: flex; justify-content: space-between; align-items: baseline; margin: 0.5rem 0; }
        .info-text { font-style: italic; color: var(--secondary-color); font-size: 1.2rem; }
        .small-list { list-style-type: circle; margin-top: 1rem; padding-left: 1.5rem; color: #888; font-style: italic; }
        .small-list-item { font-size: 0.95rem; margin-bottom: 0.3rem; }
        .horizontal-sep { width: 100%; height: 2px; background: black; margin: 15px 0 20px 0; }
        .custom-list-container { margin-top: 1.5rem; }
        .list-item-row { font-size: 1.1rem; margin-bottom: 0.5rem; color: #444; }
        .li-bold { font-weight: bold; color: #000; font-size: 1.2rem; }
        .li-norm { color: #555; }
        .tag-category-group { margin-top: 2rem; padding: 1.5rem; border: 1px solid #eee; border-radius: 12px; background: #fafafa; }
        .text-cat-name { font-size: 1.2rem; font-weight: bold; color: var(--primary-color); margin-bottom: 0.8rem; }
        .tag-container { display: flex; gap: 0.7rem; flex-wrap: wrap; }
        .tag-bubble { background: var(--primary-color); color: white; padding: 7px 18px; border-radius: 20px; font-size: 0.85rem; font-weight: 600; }
        footer { text-align: center; padding: 3rem 0; color: #bbb; border-top: 1px solid #eee; background: #fafafa; }
        @media print {
            @page { margin: 10mm; }
            body { background: white; padding: 0; }
            .main-wrapper { max-width: 170mm; margin: 0 auto; border: none; box-shadow: none; border-radius: 0; overflow: visible; }
            .container { padding: 10mm; }
            .site-header { padding: 1.5rem 0; }
            .huge-title { font-size: 32pt; }
            .text-huge { font-size: 24pt; }
            .text-medium { font-size: 18pt; }
            .text-medium-styled { font-size: 14pt; }
            .info-text { font-size: 12pt; }
            .nav-item { border-right: none !important; padding-right: 0 !important; margin: 0 10px; font-size: 10pt; }
            .header-sep { border-top: 1px solid #000; margin-bottom: 2rem; }
            .section-box, .tag-section, .tag-category-group { break-inside: avoid; margin-bottom: 2rem; }
            footer { background: white; display: none; }
            * { -webkit-print-color-adjust: exact !important; print-color-adjust: exact !important; }
        }
    </style>
</head>
<body>
    <div class="main-wrapper">
        <header class="site-header"><h1 class="huge-title">${hugeText}</h1><nav class="nav-container">${headerItemsHtml}</nav></header>
        <hr class="header-sep">
        <div class="container">${sectionsHtml}${listSectionsHtml}${tagsSectionHtml}</div>
    </div>
</body>
</html>`;
            document.getElementById('outputCode').value = htmlContent;
        }

        function printAsPDF() {
            const code = document.getElementById('outputCode').value;
            if (!code) {
                alert("Please generate the code first!");
                return;
            }
            const printWindow = window.open('', '_blank');
            printWindow.document.write(code);
            printWindow.document.close();
            printWindow.focus();
            setTimeout(() => {
                printWindow.print();

            }, 500);
        }

        addHeaderItem(); addHeaderItem(); addBodySection(); addListSection(); addTagCategory();
    </script>
</body>

</html>